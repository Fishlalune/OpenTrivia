<!DOCTYPE html>
<html>
  <head>
    <meta name='viewport' content='width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0'>
    <title>Trivia Host</title>
    <link rel='stylesheet' href='../main.css'/>
    <link rel='stylesheet' href='host.css'/>
    <script defer src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js' integrity='sha256-4iQZ6BVL4qNKlQ27TExEhBN1HFPvAvAMbFavKKosSWQ=' crossorigin='anonymous'></script>
    <script defer src='https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js' integrity='sha256-vrn14y7WH7zgEElyQqm2uCGSQrX/xjYDjniRUQx3NyU=' crossorigin='anonymous'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/js/all.min.js' integrity='sha256-qM7QTJSlvtPSxVRjVWNM2OfTAz/3k5ovHOKmKXuYMO4=' crossorigin='anonymous'></script>
    <script defer src='/socket.io/socket.io.js'></script>
    <script defer src='../logger.js'></script>
    <script defer src='host.js'></script>
  </head>
  <body>
    <div id='nav'>
      <div id='nav-top'>
        <span>Host Dashboard</span>
        <span id='status' class='right'><i class='fas fa-circle-notch fa-spin'></i> Loading...</span>
      </div>
      <div id='nav-btm'>
        <span id='s-time'>...</span>
        <span id='s-ping-outer' style='display: none' class='right'>Ping: <span id='s-ping'>...</span>ms</span>
      </div>
      <div id='nav-cat'>
        <a data-target='basic' href='#basic'>Basic</a>
        <a data-target='advanced' href='#advanced'>Advanced</a>
        <a data-target='scores' href='#scores'>Scores</a>
      </div>
    </div>
    <div id='basic' class='container'>
      <div class='col-l'>
        <h2>tbd: basic</h2>
        <button class='btn-auto'>Next Question</button>
        <br/><br/>
        <p>
          <i class='fas fa-stopwatch'></i> <i class='field-timer'>No timer active.</i>
        </p>
      </div>
    </div>
    <div id='advanced' class='container'>
      <div class='col'>
        <h2>Control Panel:</h2>
        <h3>Override Defaults</h3>
        <select id='sel-questions'></select> <button id='btn-loadQuestion'>Load</button><br/><br/>
        <input type='number' id='i-timer' style='width: 40px' value='15'/> <button id='btn-startTimer'>Start Timer</button>
        <h2>Answers/Scoring</h2>
        <br/>
        <button class='btn-lg' onclick='secSocket.emit("show-answer")'>Show Answer</button>
        <br/><br/>
        <button class='btn-lg' onclick='secSocket.emit("scores-save")'>Save Scores</button>
        <button class='btn-lg' onclick='secSocket.emit("scores-load", 1)'>Load Scores</button>
        <button class='btn-lg' onclick='secSocket.emit("scores-tally", 1)'>Tally Scores</button>
        <button class='btn-lg' onclick='secSocket.emit("scores-rank", 1)'>Rank Scores</button>
        <!-- <button class='btn-lg' onclick='secSocket.emit("scores-compute", `1,2,3,4,5,6`)'>MAGIC</button> -->
      </div>
      <div class='col'>
        <h2>Host Stats:</h2>
        <h2>Question Preview:</h2>
        <div class='left'>
          <h3>Current Question</h3>
          <p><b id='q-cur-det'></b></br><i class='fas fa-stopwatch'></i> <i class='field-timer'>No timer active.</i><br/></p>
          <p id='q-cur'><i>No question active.</i></p>
          <h3>Question Stats</h3>
          <p><span id='q-ans'>0</span> Answered, <span id='q-cor'>0</span> Correct • <a id='q-ans-val' title='No question active.' href='#' onclick='alert(this.title)'>Answer</a></p>
        </div>
      </div>
    </div>
    <div id='scores' class='container'>
      <div class='col-l'>
        <h2>Score Report</h2>
        <div class='left'>
          <div id='scores-outer'>
            <input id='input-scoreLookup' placeholder='Rounds (def: all)'/> <button onclick='secSocket.emit("scores-compute", $("#input-scoreLookup").val())'>Query</button> <button onclick='secSocket.emit("scores-publish")'>Publish</button> <span style='float: right'>Last Updated: <span id='scores-lu'>n/a</span> • Last Published: <span id='scores-lp'>n/a</span></span>
            <br/>
            <table id='scores-table'>
              
            </table>
          </div>
        </div>
      </div>
    </div>
    <br/><br/>
    <div id='footer'>
      OpenTrivia &copy; 2020 Ryan Zhang. <br class='hide-on-lg'/>OpenTrivia is <a target='_blank' href='https://github.com/Ryan778/opentrivia'>open source</a>!
      <span class='right'><a href='#' onclick='logger.open()'>Open Console</a></span>
    </div>
  </body>
</html>